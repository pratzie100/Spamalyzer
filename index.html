<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spam Classifier</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            max-width: 600px;
            margin-top: 80px;
            padding: 30px;
            background-color: white;
            box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
        }
        .result {
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 20px;
        }
        .footer {
            margin-top: 50px;
            text-align: center;
            font-size: 0.9rem;
            color: #555;
        }
        .footer a {
            color: #007bff;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container text-center">
        <h2 class="mb-4">üì© Spam Classifier</h2>
        <form id="spamForm">
            <div class="form-group mb-3">
                <textarea class="form-control" name="message" id="message" rows="5" placeholder="Enter your message..." required></textarea>
            </div>
            <button type="submit" class="btn btn-primary w-100">üîç Classify</button>
        </form>
        <div class="result" id="result"></div>
    </div>

    <div class="footer">
        Made with ‚ù§Ô∏è by <strong>Pratyush Kargeti</strong> |
        <a href="https://github.com/pratzie100" target="_blank">GitHub</a> ‚Ä¢
        <a href="https://www.linkedin.com/in/pratyush-kargeti-576270285" target="_blank">LinkedIn</a>
    </div>

    <script>
        document.getElementById('spamForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const message = document.getElementById('message').value;
            const resultDiv = document.getElementById('result');

            try {
                // const response = await fetch('/predict', {
                const response = await fetch('https://spam-classifier-backend.onrender.com/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: `message=${encodeURIComponent(message)}`
                });

                const data = await response.json();
                if (data.error) {
                    resultDiv.innerHTML = `<div class="alert alert-danger">‚ùå ${data.error}</div>`;
                } else {
                    const isSpam = data.prediction.toLowerCase() === 'spam';
                    const alertClass = isSpam ? 'danger' : 'success';
                    const emoji = isSpam ? 'üö´ SPAM' : '‚úÖ HAM';
                    resultDiv.innerHTML = `<div class="alert alert-${alertClass}">${emoji}</div>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="alert alert-danger">‚ö†Ô∏è ${error.message}</div>`;
            }
        });
    </script>
</body>
</html> -->










<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spam Classifier</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            max-width: 600px;
            margin-top: 80px;
            padding: 30px;
            background-color: white;
            box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
        }
        .result {
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 20px;
        }
        .footer {
            margin-top: 50px;
            text-align: center;
            font-size: 0.9rem;
            color: #555;
        }
        .footer a {
            color: #007bff;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container text-center">
        <h2 class="mb-4">üì© Spam Classifier</h2>
        <form id="spamForm">
            <div class="form-group mb-3">
                <textarea class="form-control" name="message" id="message" rows="5" placeholder="Enter your message..." required></textarea>
            </div>
            <button type="submit" class="btn btn-primary w-100">üîç Classify</button>
        </form>
        <div class="result" id="result"></div>
        <div id="loadingSpinner" class="text-center mt-3" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>

    <div class="footer">
        Made with ‚ù§Ô∏è by <strong>Pratyush Kargeti</strong> |
        <a href="https://github.com/pratzie100" target="_blank">GitHub</a> ‚Ä¢
        <a href="https://www.linkedin.com/in/pratyush-kargeti-576270285" target="_blank">LinkedIn</a>
    </div>

    <script>
        document.getElementById('spamForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const message = document.getElementById('message').value;
            const resultDiv = document.getElementById('result');
            const spinner = document.getElementById('loadingSpinner');

            resultDiv.innerHTML = '';             // Clear old result
            spinner.style.display = 'block';      // Show spinner

            try {
                const response = await fetch('https://spam-classifier-backend.onrender.com/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: `message=${encodeURIComponent(message)}`
                });

                const data = await response.json();
                spinner.style.display = 'none'; // Hide spinner

                if (data.error) {
                    resultDiv.innerHTML = `<div class="alert alert-danger">‚ùå ${data.error}</div>`;
                } else {
                    const isSpam = data.prediction.toLowerCase() === 'spam';
                    const alertClass = isSpam ? 'danger' : 'success';
                    const emoji = isSpam ? 'üö´ SPAM' : '‚úÖ HAM';
                    resultDiv.innerHTML = `<div class="alert alert-${alertClass}">${emoji}</div>`;
                }
            } catch (error) {
                spinner.style.display = 'none'; // Hide spinner
                resultDiv.innerHTML = `<div class="alert alert-danger">‚ö†Ô∏è ${error.message}</div>`;
            }
        });
    </script>
</body>
</html> 


<!-- 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spam Classifier</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .loading-container {
            text-align: center;
            display: none;
        }
        .main-container {
            max-width: 600px;
            margin-top: 80px;
            padding: 30px;
            background-color: white;
            box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            display: none;
        }
        .result {
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 20px;
        }
        .footer {
            margin-top: 50px;
            text-align: center;
            font-size: 0.9rem;
            color: #555;
        }
        .footer a {
            color: #007bff;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
  
    <div class="loading-container" id="loadingContainer">
        <h3>Site is loading, please wait...</h3>
        <div class="spinner-border text-primary mt-3" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

   
    <div class="main-container text-center" id="mainContainer">
        <h2 class="mb-4">Spam Classifier</h2>
        <form id="spamForm">
            <div class="form-group mb-3">
                <textarea class="form-control" name="message" id="message" rows="5" placeholder="Enter your message..." required></textarea>
            </div>
            <button type="submit" class="btn btn-primary w-100">Classify</button>
        </form>
        <div class="result" id="result"></div>
        <div id="loadingSpinner" class="text-center mt-3" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
        <div class="footer">
            Made with ‚ù§Ô∏è by <strong>Pratyush Kargeti</strong> |
            <a href="https://github.com/pratzie100" target="_blank">GitHub</a> ‚Ä¢
            <a href="https://www.linkedin.com/in/pratyush-kargeti-576270285" target="_blank">LinkedIn</a>
        </div>
    </div>

    <script>
        const loadingContainer = document.getElementById('loadingContainer');
        const mainContainer = document.getElementById('mainContainer');
        const backendUrl = 'https://spam-classifier-backend.onrender.com/';

        // Function to check if backend is active
        async function checkBackend() {
            try {
                const response = await fetch(backendUrl, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                if (response.ok) {
                    // Backend is active, hide loading and show main content
                    loadingContainer.style.display = 'none';
                    mainContainer.style.display = 'block';
                    return true;
                }
                return false;
            } catch (error) {
                console.error('Backend check failed:', error);
                return false;
            }
        }

        // Function to poll backend until it's active
        async function pollBackend() {
            loadingContainer.style.display = 'block'; // Show loading screen
            mainContainer.style.display = 'none'; // Hide main content

            const interval = 3000; // Check every 3 seconds
            let isBackendActive = await checkBackend();

            if (!isBackendActive) {
                const pollInterval = setInterval(async () => {
                    isBackendActive = await checkBackend();
                    if (isBackendActive) {
                        clearInterval(pollInterval); // Stop polling once backend is active
                    }
                }, interval);
            }
        }

        // Start polling when page loads
        pollBackend();

        // Form submission logic (unchanged)
        document.getElementById('spamForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const message = document.getElementById('message').value;
            const resultDiv = document.getElementById('result');
            const spinner = document.getElementById('loadingSpinner');

            resultDiv.innerHTML = ''; // Clear old result
            spinner.style.display = 'block'; // Show spinner

            try {
                const response = await fetch(`${backendUrl}predict`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: `message=${encodeURIComponent(message)}`
                });

                const data = await response.json();
                spinner.style.display = 'none'; // Hide spinner

                if (data.error) {
                    resultDiv.innerHTML = `<div class="alert alert-danger">‚ùå ${data.error}</div>`;
                } else {
                    const isSpam = data.prediction.toLowerCase() === 'spam';
                    const alertClass = isSpam ? 'danger' : 'success';
                    const emoji = isSpam ? 'üö´ SPAM' : '‚úÖ HAM';
                    resultDiv.innerHTML = `<div class="alert alert-${alertClass}">${emoji}</div>`;
                }
            } catch (error) {
                spinner.style.display = 'none'; // Hide spinner
                resultDiv.innerHTML = `<div class="alert alert-danger">‚ö†Ô∏è ${error.message}</div>`;
            }
        });
    </script>
</body>
</html> -->